# 升級日誌 - 多來源新聞擴展

## 版本：v1.1.0 - 多來源新聞擴展
**發布日期：** 2024-12-31

### 🚀 新功能

#### 多來源新聞爬蟲
- **新增支援媒體：**
  - 🍊 TechOrange 科技報橘
  - 💻 iThome 
  - 🔬 科技新報 TechNews
  - 🚀 Inside 硬塞的網路趨勢觀察

- **智能來源平衡：** 隨機輪替不同媒體，確保多元化的新聞來源
- **來源標示：** 每篇文章都會標明來源媒體

#### 改進的使用者體驗
- **更好的錯誤訊息：** 當沒有找到文章時，會顯示所有搜尋的媒體來源
- **來源顯示：** LINE 訊息現在會顯示每篇文章的來源媒體
- **擴展的關鍵字建議：** 提供更多樣化的關鍵字建議

### 🔧 技術改進

#### 爬蟲架構重構
- **從 `TechOrangeCrawler` 升級到 `MultiSourceTechCrawler`**
- **模組化設計：** 每個媒體都有專門的爬取方法
- **錯誤處理：** 改進的錯誤處理機制，單一來源失敗不影響其他來源

#### 訊息格式優化
- **新增來源標示：** 📡 來源：{媒體名稱}
- **改進錯誤提示：** 詳細列出搜尋的所有媒體來源
- **總結訊息更新：** 從 "TechOrange 文章" 改為 "科技新聞文章"

### 📝 程式碼變更

#### 主要檔案更新：
1. **`crawler.py`**
   - 新增 `MultiSourceTechCrawler` 類別
   - 實作多來源 RSS 爬取功能
   - 新增來源配置和內容擷取方法

2. **`line_handler.py`** 
   - 更新訊息格式包含來源資訊
   - 改進錯誤訊息顯示所有搜尋來源
   - 優化單篇文章訊息格式

3. **`app.py`**
   - 更新導入使用 `MultiSourceTechCrawler`
   - 更新初始化訊息

### 🎯 使用方式

使用方式保持不變，只需向機器人發送關鍵字，現在會從更多來源搜尋文章：

```
AI
區塊鏈  
5G
電動車
元宇宙
```

### 📊 效果展示

**之前：** 只搜尋 TechOrange
**現在：** 同時搜尋 4 個主要科技媒體

**訊息格式更新：**
```
📰 文章 1

📝 標題：AI 發展的最新趨勢
🤖 AI 摘要：
[摘要內容...]

🔗 閱讀全文：https://...
📡 來源：TechOrange 科技報橘
```

### 🔄 向後相容性

- ✅ 完全向後相容
- ✅ 現有的 `fetch_articles()` 便利函數仍可正常使用
- ✅ LINE Webhook 設定無需變更
- ✅ 環境變數設定無需修改

### 🚀 未來計劃

- [ ] 新增更多科技媒體來源
- [ ] 實作文章去重機制
- [ ] 新增文章分類功能
- [ ] 支援用戶自定義來源偏好

---
**注意：** 升級後首次運行時，建議測試各個來源是否正常運作。
